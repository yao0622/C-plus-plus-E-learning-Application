<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
    <title>多文件结构和和编译预处理命令</title>
</head>
<body>
<h3>C++程序的一般组织结构</h3>
<h4>一个源程序可以划分为多个源文件：</h4>
<p>类声明文件（.h文件）<br>
    类实现文件（.cpp文件）<br>
    类的使用文件（main()所在的.cpp文件）</p>
<p>利用工程来组合各个文件。</p>
<h3>外部变量与外部函数</h3>
<p>外部变量：可以为多个源文件所共享的全局变量，在其他源文件中，用extern关键字声明后使用。</p>
<p>外部函数：在所有类之外声明的函数（非成员函数），可以在不同的编译单元中被调用。</p>
<h3>将变量和函数限制在编译单元内：</h3>
<p>使用static关键字</p>
<p>使用匿名的命名空间</p>
<h3>标准C++库</h3>
<h4>标准C++类与组件分为6类：</h4>
<p>输入输出类<br>
    容器类与ADT（抽象数据类型）<br>
    存储管理类<br>
    算法<br>
    错误处理<br>
    运行环境支持</p>
<p>声明在各头文件中<br>
    命名空间：std</p>
<h3>编译预处理命令</h3>
<h4>#include 包含指令</h4>
<p>将一个源文件嵌入到当前源文件中该点处。</p>
<p>#include<文件名>  <br>
    按标准方式搜索，文件位于C++系统目录的include子目录下</p>
<p>#include"文件名"<br>
    首先在当前目录中搜索，若没有，再按标准方式搜索。</p>
<h4>#define 宏定义指令</h4>
<p>定义符号常量，很多情况下已被const定义语句取代。</p>
<p>定义带参数宏，已被内联函数取代。</p>
<h4>#undef</h4>
<p>删除由#define定义的宏，使之不再起作用。 </p>
<h4>条件编译指令    #if 和 #endif </h4>
<p>#if  常量表达式<br>//当“ 常量表达式”非零时编译 <br>
    &nbsp; &nbsp;程序正文  <br>
    #endif <br>
    ......</p>
<h4>条件编译指令??#else </h4>
<p> #if   常量表达式<br>//当“ 常量表达式”非零时编译 <br>
    &nbsp; &nbsp;程序正文1<br>
    #else<br>//当“ 常量表达式”为零时编译 <br>
    &nbsp; &nbsp; 程序正文2<br>
    #endif</p>
<h4>条件编译指令    #elif </h4>
<p>#if   常量表达式1 <br>
    &nbsp; &nbsp;程序正文1  //当“ 常量表达式1”非零时编译 <br>
    #elif  常量表达式2 <br>
    &nbsp; &nbsp;程序正文2  //当“ 常量表达式2”非零时编译 <br>
    #else<br>
    &nbsp; &nbsp;程序正文3  //其它情况下编译 <br>
    #endif</p>
<h4>条件编译指令#ifdef</h4>
<p>#ifdef   标识符<br>
    &nbsp; &nbsp;程序段1<br>
    #else<br>
    &nbsp; &nbsp;程序段2<br>
    #endif</p>
<p>如果“标识符”经#defined定义过，且未经undef删除，则编译程序段1，否则编译程序段2。</p>
<h4>条件编译指令#ifndef</h4>
<p>#ifndef   标识符<br>
    &nbsp; &nbsp;程序段1<br>
    #else<br>
    &nbsp; &nbsp;程序段2<br>
    #endif</p>
<p>如果“标识符”未被定义过，则编译程序段1，否则编译程序段2。</p>
<h4>defined操作符</h4>
<p>defined（标识符）</p>
<p>如果“标识符”用#define定义过，返回非0，否则返回0</p>
</body>
</html>